{
  "containerDefinitions": [
    {
        "environment": [],
        "name": "cloudwatchlogs",
        "image": "schmutze/cloudwatchlogs",
        "cpu": 50,
        "portMappings": [
            {
                "containerPort": 514,
                "hostPort": 514
            }
        ],
        "memory": 64,
        "essential": true
    },
    {
        "environment": [],
        "name": "httpd",
        "links": [
            "cloudwatchlogs"
        ],
        "image": "httpd",
        "cpu": 50,
        "portMappings": [
            {
                "containerPort": 80,
                "hostPort": 80
                }
            ],
        "memory": 64,
        "entryPoint": ["/bin/bash", "-c"],
        "command": ["apt-get update && apt-get -y install netcat wget && echo 'CustomLog | /bin/nc cloudwatchlogs 514 combined' >> /usr/local/apache2/conf/httpd.conf && /usr/local/bin/httpd-foreground"],
        "essential": true
    }
  ],
  "family": "cloudwatchlogs"
}
