{
  "containerDefinitions": [
    {
        "environment": [],
        "name": "cloudwatchlogs",
        "image": "schmutze/cloudwatchlogs",
        "cpu": 50,
        "portMappings": [
            {
                "containerPort": 514,
                "hostPort": 514
            }
        ],
        "memory": 64,
        "essential": true
    },
    {
        "environment": [],
        "name": "nginx",
        "links": [
            "cloudwatchlogs"
        ],
        "image": "nginx",
        "cpu": 50,
        "portMappings": [
            {
                "containerPort": 80,
                "hostPort": 80
                }
            ],
        "memory": 64,
        "entryPoint": ["/bin/bash", "-c"],
        "command": ["echo 'access_log syslog:server=cloudwatchlogs:514,facility=local7,tag=nginx,severity=info combined;' > /etc/nginx/conf.d/cloudwatchlogs.conf && nginx -g 'daemon off;'"],
        "essential": true
    }
  ],
  "family": "cloudwatchlogs"
}
